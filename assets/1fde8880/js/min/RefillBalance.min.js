"use strict";var RefillBalance=function(r){var e=$.extend(!0,{RefillUrl:""},r),l={selectors:{refillBalance:"#refill-balance",refillModal:"#refill",refillForm:"#refill-form",refillFormSubmit:"#submit-refill-form",errorMsg:"#refill-error-msg"},process:function(r){r.preventDefault();var l=r.target,o=l.closest("form"+this.selectors.refillForm),i=this;if(!$(o).get(0).checkValidity())return $(o).get(0).reportValidity(),!1;var t=$(o).serializeArray(),s=this.selectors.refillModal+" .modal-content";$.ajax({url:e.RefillUrl,method:"POST",dataType:"json",data:t,beforeSend:function(){LandingCore.blockUI().block(s),i.hideError()},success:function(r){return"error"==r.status?(i.showError(r.msg),LandingCore.blockUI().unblock(s),!1):void("ok"==r.status&&"undefined"!=typeof r.redirectUrl&&(window.location.href=r.redirectUrl))},error:function(r,e,l){LandingCore.blockUI().unblock(s)}})},hideError:function(){$(this.selectors.errorMsg).addClass("hidden").find(".alert").html("")},showError:function(r){$(this.selectors.errorMsg).removeClass("hidden").find(".alert").html(r)}};$(l.selectors.refillForm).on("submit",$.proxy(l.process,l))};