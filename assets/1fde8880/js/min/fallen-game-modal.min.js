"use strict";var ModalFallenGame={selectors:{id:"#fallen-game-modal",body:".modal-body",gameContent:".fallen-game-modal-content",gameImage:".image",gameName:".name",modalClass:".modal",close:".close",modalHidden:"hidden.bs.modal",btn:".btn",xDropText:".xDropText"},textAll:{key:"ключ",item:"предмет",case:"кейс",account:"аккаунт",keys:["игру","игры","игр"],items:["предмет","предмета","предметов"],cases:["кейс","кейса","кейсов"],accounts:["аккаунт","аккаунта","аккаунтов"]},text:{name:"",names:[]},typeItem:"asset",typeKey:"key",typeCase:"case",init:function(e){ModalFallenGame.initText(e);var a='<img src="'+e.image+'" class="img-responsive"/>',l="<p>"+e.name+'</p><p class="red">'+e.costItem+"</p>";if($(ModalFallenGame.selectors.gameContent+" "+ModalFallenGame.selectors.gameImage).html(a),$(ModalFallenGame.selectors.gameContent+" "+ModalFallenGame.selectors.gameName).html(l),"undefined"!=typeof e.xDrop&&"undefined"!=typeof e.count&&e.xDrop>1)$(ModalFallenGame.selectors.xDropText).html(LandingCore.t("Вы получаете {game} и еще {drop} в подарок в своем личном кабинете пользователя.",{game:e.count+" "+LandingCore.plural(e.count,[LandingCore.t(ModalFallenGame.text.names[0]),LandingCore.t(ModalFallenGame.text.names[1]),LandingCore.t(ModalFallenGame.text.names[2])]),drop:e.xDrop*e.count-e.count}));else{var t="Забрать {name} вы можете в личном кабинете.";e.caseWithError&&(t="Открыть кейс вы можете в личном кабинете."),$(ModalFallenGame.selectors.xDropText).html(LandingCore.t(t,{name:ModalFallenGame.text.name})),$(ModalFallenGame.selectors.id+" "+ModalFallenGame.selectors.btn).attr("href",e.url)}ModalFallenGame.hideAllModals()},initText:function(e){LandingConfig.isAccountSale?(ModalFallenGame.text.name=ModalFallenGame.textAll.account,ModalFallenGame.text.names=ModalFallenGame.textAll.accounts):void 0===e.type||e.type===!1?(ModalFallenGame.text.name=ModalFallenGame.textAll.key,ModalFallenGame.text.names=ModalFallenGame.textAll.keys):e.caseWithError&&e.type===ModalFallenGame.typeCase?(ModalFallenGame.text.name=ModalFallenGame.textAll.case,ModalFallenGame.text.names=ModalFallenGame.textAll.cases):e.type===ModalFallenGame.typeKey||e.type===ModalFallenGame.typeCase?(ModalFallenGame.text.name=ModalFallenGame.textAll.key,ModalFallenGame.text.names=ModalFallenGame.textAll.keys):e.type===ModalFallenGame.typeItem&&(ModalFallenGame.text.name=ModalFallenGame.textAll.item,ModalFallenGame.text.names=ModalFallenGame.textAll.items)},show:function(){$(ModalFallenGame.selectors.id).modal()},hideAllModals:function(){$(ModalFallenGame.selectors.modalClass).each(function(){$(this).hide()})}};$(ModalFallenGame.selectors.id).on(ModalFallenGame.selectors.modalHidden,function(){location.reload()});